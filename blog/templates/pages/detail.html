{% extends 'base.html' %}
{% block title %} {{text.title}} {% endblock %} 
{% load static %}

{% block content%} 
  <div class="card mb-3">
    <div class="row g-0">
      <div class="col-md-4">
        <img src=" {{text.image.url}} " class="img" alt="..." />
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title">{{text.title}}</h5>
          <p class="card-text">{{text.content |safe }}</p>
          <p class="card-text">
            <small class="text-muted"
              >before {{text.updatedAtTime|timesince}}
            </small>
          </p>
        </div>
      </div>
    </div>
    <h5 class = "mt-2">Comments</h5>
    {%for comment in comments %}
      <div class="card mt-1">
        <div class="card-body" style = "display:flex;flex-direction: row;">
          <div class="me-3">
            {% if comment.author.avatar %}
              <img src="{{comment.author.avatar.url}}" class="rounded" class="pt-1" width="70px" height="70px">
            {%else%}
              <img src="{% static 'img/no-avatar.png' %}" class="rounded" class="pt-1" width="70px" height="70px">
            {%endif%}
          </div>
          <div>
            <h5 class="card-title"> {{comment.author.username}} </h5>
            <p class="card-text">{{comment.comment}} </p>
          </div>
        </div>
      </div>
     {% empty %}
     <p>No comment found</p> 
    {% endfor %}
  </div>
  
{% endblock %}